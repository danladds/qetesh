<div id="record">
	
	<label for="invoice-type">Type</label>
	<select id="invoice-type">
		<option value="*">All</option>
		<option value="0">Receivable</option>
		<option valie="1">Payable</option>
	</select>
	
	<label for="forename">Customer Forename</label>
	<input type="text" id="forename" name="forename" value="{Forename}" />

	<label for="surname">Customer Surname</label>
	<input type="text" id="surname" name="surname" value="{Surname}" />
	
	<label for="issued">Date Issued</label>
	<input type="text" id="issued" name="issued" value="{Issued}" />

	<table id="invoice-item">
		<tr>
			<th>ID</th>
			<th>Item</th>
			<th>Price</th>
			<th>Tax</th>
			<th></th>
			<th></th>
		</tr>
		<tr class="invoiceitem-list-item">
			<td><input type="text" class="invoiceitem-item" value="{Id}" disabled="disabled" /></td>
			<td><input type="text" class="invoiceitem-name" value="{Description}" /></td>
			<td><input type="text" class="invoiceitem-price" value="{Price}" /></td>
			<td><input type="checkbox" id="invoiceitem-tex" value="{Tex}" /></td>
			<td class="invoiceitem-save"></td>
			<td class="invoiceitem-delete"></td>
		</tr>
	</table>
	
	<label for="total">Total</label>
	<input type="text" id="total" name="total" value="{Total}" />
	
	<label for="comments">Comments</label>
	<textarea id="coments">{Comments}</textarea>

	<button type="button" class="btn_large" id="invoice-save">Save</button>
	<button type="button" class="btn_large" id="invoice-commit">Commit</button>
	<button type="button" class="btn_large" id="invoice-reset">Reset</button>
	<button type="button" class="btn_large" id="invoice-reload">Reload</button>
	<button type="button" class="btn_large" id="invoice-delete">Delete</button>
	<button type="button" class="btn_large" id="invoice-return">Return to list</button>
	
	<div class="notes">
		<p>This view features a single item from the previous list bound to a single tag in the template. Sub-items are then loaded and bound to a repeater table.</p>
		
		<p>When data is bound to a tag, the data passed is referenced, so if the data is also part of a collection, like the invoices from the main list, when the individual object is changed, the object in the list is also changed.</p>
		
		<p>Qetesh uses a staging system where a copy is made of the data. Changes are instantly reflected in that copy when bound form fields are changed. The <strong>Commit()</strong> method pushes data from the staging copy to the underlying DataObject, which other views and your code interact with primarily.</p>
		
		<p>Operations like <strong>DataObject.Update()</strong>  use the underlying DataObject rather than the staging copy. In most situations you will want to commit and then update, sending the data to the server. However, in this demo, the functions are separate, meaning that changes entered into the form are not saved when Save is clicked unless Commit is clicked first. Changes will, however, be reflected in the current session after committing, even without saving.</p>
		
		<p>The individual item rows (InvoiceItems) do both commit and save when their own save button is clicked.</p>
		
		<p>Reload restores data from the server, but again, does not automatically reset.</p>
		
		<p>Icons from <a href="http://www.fatcow.com/free-icons">Fat Cow</a></p>
	</div>
</div>
